{"ast":null,"code":"import todoService from '../services/todos';\n\nconst todoReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'GET_TODOS':\n      return action.data;\n\n    case 'CREATE_TODO':\n      return state.concat(action.data);\n\n    case 'DELETE_TODO':\n      return state.filter(todo => todo.id !== action.data);\n\n    case 'UPDATE_TODO':\n      const id = action.data.id;\n      const todoToUpdate = state.find(todo => todo.id === id);\n      let updatedTodo;\n\n      if (action.data.status === 'not-done') {\n        updatedTodo = { ...todoToUpdate,\n          status: 'done'\n        };\n      } else {\n        updatedTodo = { ...todoToUpdate,\n          status: 'not-done'\n        };\n      }\n\n      return state.map(todo => todo.id !== id ? todo : updatedTodo);\n\n    default:\n      return state;\n  }\n};\n\nexport const getAllTodos = () => {\n  return async dispatch => {\n    const todos = await todoService.getAllTodos();\n    dispatch({\n      type: 'GET_TODOS',\n      data: todos\n    });\n  };\n};\nexport const createTodo = todo => {\n  return async dispatch => {\n    const newTodo = await todoService.createTodo(todo);\n    dispatch({\n      type: 'CREATE_TODO',\n      data: newTodo\n    });\n  };\n};\nexport const deleteTodo = todo => {\n  return async dispatch => {\n    dispatch({\n      type: 'DELETE_TODO',\n      data: todo.id\n    });\n    await todoService.removeTodo(todo.id);\n  };\n};\nexport const updateTodo = todo => {\n  return async dispatch => {\n    await todoService.updateTodo(todo);\n    dispatch({\n      type: 'UPDATE_TODO',\n      data: todo\n    });\n  };\n};\nexport default todoReducer;","map":{"version":3,"names":["todoService","todoReducer","state","action","type","data","concat","filter","todo","id","todoToUpdate","find","updatedTodo","status","map","getAllTodos","dispatch","todos","createTodo","newTodo","deleteTodo","removeTodo","updateTodo"],"sources":["/Users/sirpacoder/projects/DevOps-Kubernetes/Exercises-part-2/exercise-2.08/project/client/src/reducers/todoReducer.js"],"sourcesContent":["import todoService from '../services/todos'\n\nconst todoReducer = (state = [], action) => {\n  switch (action.type) {\n    case 'GET_TODOS':\n      return action.data\n    case 'CREATE_TODO':\n      return state.concat(action.data)\n    case 'DELETE_TODO':\n      return state.filter(todo => todo.id !== action.data)\n    case 'UPDATE_TODO':\n      const id = action.data.id\n      const todoToUpdate = state.find(todo => todo.id === id)\n      let updatedTodo\n      if (action.data.status === 'not-done') {\n        updatedTodo = { ...todoToUpdate, status: 'done' }\n      } else {\n        updatedTodo = { ...todoToUpdate, status: 'not-done' }\n      }\n      return state.map(todo => (todo.id !== id ? todo : updatedTodo))\n    default:\n      return state\n  }\n}\n\nexport const getAllTodos = () => {\n  return async dispatch => {\n    const todos = await todoService.getAllTodos()\n    dispatch({\n      type: 'GET_TODOS',\n      data: todos,\n    })\n  }\n}\n\nexport const createTodo = todo => {\n  return async dispatch => {\n    const newTodo = await todoService.createTodo(todo)\n    dispatch({\n      type: 'CREATE_TODO',\n      data: newTodo,\n    })\n  }\n}\n\nexport const deleteTodo = todo => {\n  return async dispatch => {\n    dispatch({\n      type: 'DELETE_TODO',\n      data: todo.id,\n    })\n    await todoService.removeTodo(todo.id)\n  }\n}\n\nexport const updateTodo = todo => {\n  return async dispatch => {\n    await todoService.updateTodo(todo)\n    dispatch({\n      type: 'UPDATE_TODO',\n      data: todo,\n    })\n  }\n}\n\nexport default todoReducer\n"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,WAAW,GAAG,YAAwB;EAAA,IAAvBC,KAAuB,uEAAf,EAAe;EAAA,IAAXC,MAAW;;EAC1C,QAAQA,MAAM,CAACC,IAAf;IACE,KAAK,WAAL;MACE,OAAOD,MAAM,CAACE,IAAd;;IACF,KAAK,aAAL;MACE,OAAOH,KAAK,CAACI,MAAN,CAAaH,MAAM,CAACE,IAApB,CAAP;;IACF,KAAK,aAAL;MACE,OAAOH,KAAK,CAACK,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYN,MAAM,CAACE,IAAxC,CAAP;;IACF,KAAK,aAAL;MACE,MAAMI,EAAE,GAAGN,MAAM,CAACE,IAAP,CAAYI,EAAvB;MACA,MAAMC,YAAY,GAAGR,KAAK,CAACS,IAAN,CAAWH,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYA,EAA/B,CAArB;MACA,IAAIG,WAAJ;;MACA,IAAIT,MAAM,CAACE,IAAP,CAAYQ,MAAZ,KAAuB,UAA3B,EAAuC;QACrCD,WAAW,GAAG,EAAE,GAAGF,YAAL;UAAmBG,MAAM,EAAE;QAA3B,CAAd;MACD,CAFD,MAEO;QACLD,WAAW,GAAG,EAAE,GAAGF,YAAL;UAAmBG,MAAM,EAAE;QAA3B,CAAd;MACD;;MACD,OAAOX,KAAK,CAACY,GAAN,CAAUN,IAAI,IAAKA,IAAI,CAACC,EAAL,KAAYA,EAAZ,GAAiBD,IAAjB,GAAwBI,WAA3C,CAAP;;IACF;MACE,OAAOV,KAAP;EAlBJ;AAoBD,CArBD;;AAuBA,OAAO,MAAMa,WAAW,GAAG,MAAM;EAC/B,OAAO,MAAMC,QAAN,IAAkB;IACvB,MAAMC,KAAK,GAAG,MAAMjB,WAAW,CAACe,WAAZ,EAApB;IACAC,QAAQ,CAAC;MACPZ,IAAI,EAAE,WADC;MAEPC,IAAI,EAAEY;IAFC,CAAD,CAAR;EAID,CAND;AAOD,CARM;AAUP,OAAO,MAAMC,UAAU,GAAGV,IAAI,IAAI;EAChC,OAAO,MAAMQ,QAAN,IAAkB;IACvB,MAAMG,OAAO,GAAG,MAAMnB,WAAW,CAACkB,UAAZ,CAAuBV,IAAvB,CAAtB;IACAQ,QAAQ,CAAC;MACPZ,IAAI,EAAE,aADC;MAEPC,IAAI,EAAEc;IAFC,CAAD,CAAR;EAID,CAND;AAOD,CARM;AAUP,OAAO,MAAMC,UAAU,GAAGZ,IAAI,IAAI;EAChC,OAAO,MAAMQ,QAAN,IAAkB;IACvBA,QAAQ,CAAC;MACPZ,IAAI,EAAE,aADC;MAEPC,IAAI,EAAEG,IAAI,CAACC;IAFJ,CAAD,CAAR;IAIA,MAAMT,WAAW,CAACqB,UAAZ,CAAuBb,IAAI,CAACC,EAA5B,CAAN;EACD,CAND;AAOD,CARM;AAUP,OAAO,MAAMa,UAAU,GAAGd,IAAI,IAAI;EAChC,OAAO,MAAMQ,QAAN,IAAkB;IACvB,MAAMhB,WAAW,CAACsB,UAAZ,CAAuBd,IAAvB,CAAN;IACAQ,QAAQ,CAAC;MACPZ,IAAI,EAAE,aADC;MAEPC,IAAI,EAAEG;IAFC,CAAD,CAAR;EAID,CAND;AAOD,CARM;AAUP,eAAeP,WAAf"},"metadata":{},"sourceType":"module"}